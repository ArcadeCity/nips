
NIP-28
======

Public Chat
-----------

`draft` `optional` `author:ChristopherDavid` `author:fiatjaf` `author:jb55`

This NIP defines new event kinds for public chat channels, channel messages, and basic client-side moderation.

It reserves five event kinds (40-44) for immediate use and five event kinds (45-49) for future use.

- `40 - channel create`
- `41 - channel metadata`
- `42 - channel message`
- `43 - hide message`
- `44 - mute user`

## Kind 40: Create channel

Create a public chat channel.

In the channel creation `content` field, Client SHOULD include basic channel metadata (`name`, `about`, `picture` as specified in kind 41).

Example event:

```json
{
    "content": "{\"name\": \"Demo Channel\", \"about\": \"A test channel.\", \"picture\": \"https://placekitten.com/200/200\"}",
    "tags": ["e", <channel_create_event>],
    ...
}
```


## Kind 41: Set channel metadata

Update a channel's public metadata.

Clients and relays SHOULD handle kind 41 events similar to kind 0 `metadata` events.

Clients SHOULD support basic metadata fields:

- `name` - string - Channel name
- `about` - string - Channel description
- `picture` - string - URL of channel picture

Clients MAY add additional metadata fields.

```json
{
    "content": <string>,
    "tags": ["e", <channel_create_event_id>],
    ...
}
```


## Kind 42: Create channel message

Send a text message to a channel.

```json
{
    "content": <string>,
    "tags": ["e", <channel_create_event_id>],
    ...
}
```

## Kind 43: Hide message

User no longer wants to see a certain message.

```json
{
    "tags": ["e", <channel_message_event_id>],
    ...
}
```

## Kind 44: Mute user

User no longer wants to see messages from another user.

```json
{
    "tags": ["p", <pubkey>],
    ...
}
```

Future extensibility
--------------------

We reserve event kinds 44-49 for other events related to chat, to potentially include new types of media (photo/video), moderation, or support of private or group messaging.



Additional info
---------------

- [Chat demo PR with fiatjaf+jb55 comments](https://github.com/ArcadeCity/arcade/pull/28)
